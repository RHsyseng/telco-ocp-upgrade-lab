<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OCP API Compatibility Policy :: LAB - Telco OCP Upgrade Lab</title>
    <link rel="canonical" href="https://labs.sysdeseng.com/4.12-4.14/API-Compatibility.html">
    <link rel="prev" href="introduction.html">
    <link rel="next" href="CNF-Upgrade-Prep.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com/en/solutions/telecommunications" target="_blank"><img src="../_/img/Logo-Red_Hat-A-Reverse-RGB.png" height="40px" alt="Red Hat Telco Solutions"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="https://labs.sysdeseng.com">LAB - Telco OCP Upgrade Lab</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://developers.redhat.com/ebooks/" target="_blank">Books</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">More Tutorials</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/kubernetes-tutorial/" target="_blank">Kubernetes</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/istio-tutorial/" target="_blank">Istio</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/quarkus-tutorial/" target="_blank">Quarkus</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/knative-tutorial/" target="_blank">Knative</a>
            <a class="navbar-item" href="https://redhat-developer-demos.github.io/tekton-tutorial/" target="_blank">Tekton</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="4.12-4.14" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html"></a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Welcome</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html#contributors">Contributors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="introduction.html">Introduction</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="introduction.html#lab-aim">Who is this lab aimed at?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="introduction.html#lab-software-versions">Lab Software Versions</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="API-Compatibility.html">OCP API Compatibility Policy</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#cnf-api-compatibility">CNF API Compatibility</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#k8s-skew">Kubernetes Version Skew</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="#ocp-upgrade-path">OpenShift Upgrade Path</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="CNF-Upgrade-Prep.html">CNF Upgrade Preparation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CNF-Upgrade-Prep.html#life-of-a-pod">Life of a POD</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CNF-Upgrade-Prep.html#cnf-req-doc">CNF Requirements Document</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CNF-Upgrade-Prep.html#pdb">POD Disruption Budget</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="CNF-Upgrade-Prep.html#pod-anti-affinity">POD Anti-affinity</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="OCP-upgrade-prep.html">OCP Upgrade Preparation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="OCP-upgrade-prep.html#firmware-compatibility">Firmware compatibility</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="OCP-upgrade-prep.html#layer-product-compatibility">Layer product compatibility</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="OCP-upgrade-prep.html#prepare-mcp">Prepare MCPs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="Applying-MCPs.html">Applying MCPs</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">LAB - Telco OCP Upgrade Lab</a></li>
    <li><a href="API-Compatibility.html">OCP API Compatibility Policy</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/RHsyseng/telco-ocp-upgrade-lab/edit/lab-4.12To4.14/documentation/modules/ROOT/pages/API-Compatibility.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">OCP API Compatibility Policy</h1>
<div class="sect1">
<h2 id="cnf-api-compatibility"><a class="anchor" href="#cnf-api-compatibility"></a>CNF API Compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenShift and Kubernetes are strong because they use APIs for so many functions. This also means that the APIs will change over time as components are updated. Therefore, it is important to verify that an API call is still compatible with the cluster so that you will receive the desired response. Please review the documented section called <a href="https://docs.openshift.com/container-platform/4.14/rest_api/understanding-api-support-tiers.html">“Understanding API Tiers”</a>.</p>
</div>
<div class="paragraph">
<p>The most important thing to understand when considering which Z-release to upgrade to inside of a new Y-release is what patches need to be in the new Z-release. In other words if you are currently at OCP 4.11.28 you will need to make sure to upgrade to a Z-release of 4.12 that has all of the patches in it that were applied to 4.11.28, otherwise you will break the built-in compatibility of Kubernetes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="k8s-skew"><a class="anchor" href="#k8s-skew"></a>Kubernetes Version Skew</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Support of specific API versions needs to be maintained by each cluster operator. With new releases of operators come new APIs. Therefore, the changes or skews in APIs need to be maintained. To a certain extent the APIs can be compatible across several releases of an operator. This list of operators and the releases that are compatible are at: <a href="https://kubernetes.io/releases/version-skew-policy" class="bare">https://kubernetes.io/releases/version-skew-policy</a></p>
</div>
<div class="paragraph">
<p>The easiest way verify your application functionality will still work, is to make sure that you follow</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ocp-upgrade-path"><a class="anchor" href="#ocp-upgrade-path"></a>OpenShift Upgrade Path</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Can I choose any Z-release in the new EUS or Y-stream version? -NO
The new 4.Y+2(or+1).Z release needs to have the same patch level that your currency 4.Y.Z release has.</p>
</div>
<div class="paragraph">
<p>Why does 4.14.1 not have the same patches as 4.12.45?
All “new” patches are applied upstream first. This means that after 4.14.0 was release, 4.15 became the upstream version.
For example: the way that patches are applied to new and old releases is with new z-releases so a patch that is applied in X.Y+2.4 might have also been applied to X.Y.36.</p>
</div>
<div class="paragraph">
<p>OpenShift upgrade process mandates that:
If fix “A” is present in a specific X.Y.Z release of OCP
Then fix “A” MUST be present in the X.Y+1.Z release that OCP is upgraded TO</p>
</div>
<div class="paragraph">
<p>You can use the upgrade graph tool to determine if the path is valid for your z-release. You should also always verify with your Sales Engineer or Technical Account Manager at Red Hat to make sure the upgrade path is valid for Telco implementations.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/k8s-vers-skew.png" alt="k8s vers skew">
</div>
<div class="title">Figure 1. K8s Version Skey</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="introduction.html">Introduction</a></span>
  <span class="next"><a href="CNF-Upgrade-Prep.html">CNF Upgrade Preparation</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <a class="rhd-logo" href="https://redhat.com" target="_blank"></div>
</footer>
<script src="../_/js/vendor/clipboard.js"></script>
<script src="../_/js/site.js"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
